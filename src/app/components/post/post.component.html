<article class="card mb-3">
  <div class="card-body">
    <img
      *ngIf="post.portada"
      [src]="'/assets/covers/' + post.portada"
      alt="Portada del libro"
      class="img-fluid mb-2"
      style="max-height: 200px; object-fit: cover"
    />
    <h5 class="card-title" *ngIf="showDescripcion">{{ post.title }}</h5>

    <p *ngIf="showAuthor || showDate" class="card-subtitle mb-2 text-muted">
      <span *ngIf="showAuthor"
        >Por
        <a [routerLink]="['/profile', post.author.username]">{{
          post.author.username
        }}</a></span
      >
      <span *ngIf="showAuthor && showDate"> - </span>
      <span *ngIf="showDate">{{ post.date | date : "mediumDate" }}</span>
    </p>

    <p *ngIf="showDescripcion">{{ post.excerpt }}</p>

    <div *ngIf="showTituloCap || showOrdenCap" class="capitulo-info">
      <p *ngIf="showTituloCap">Capítulo: {{ post.capituloTitulo }}</p>
      <p *ngIf="showOrdenCap">Número: {{ post.capituloOrden }}</p>
    </div>
    <a
      *ngIf="post.id && post.capituloOrden"
      [routerLink]="['/libro', post.id, 'capitulo', post.capituloOrden]"
      class="btn btn-primary btn-sm mt-2"
    >
      Leer capítulo
    </a>

    <button
      class="btn"
      [ngClass]="guardado ? 'btn-danger' : 'btn-outline-success'"
      (click)="toggleBiblioteca()"
    >
      {{ guardado ? "Eliminar de biblioteca" : "Guardar en biblioteca" }}
    </button>
  </div>
</article>
